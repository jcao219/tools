%% 3110.sty (A collection of TeX macros for CS 3110)
%%
%% version 2
%% Jan 23, 2014

\ProvidesPackage{3110}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Package Imports %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\RequirePackage[usenames,dvipsnames]{xcolor}
\RequirePackage[hidelinks]{hyperref}
\RequirePackage{enumerate,soul,relsize,scrextend,mdframed}
\RequirePackage{listings}
\RequirePackage{proof}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%% For Typesetting OCaml %%%%%%%%%%%%%%%%%%%%%%%%%%%

\lstset{
  language=Caml,
  defaultdialect=[Objective]Caml,
  keywords=[2]{int,float,bool,string,char,list,unit,option,Some,None,raise},
}

\lstdefinestyle{ocaml}{
  showstringspaces=false,
  basicstyle=\tt,
  tabsize=2,
  frame=single,
  keywordstyle=\color{blue}\textbf,
  keywordstyle=[2]\color{DarkOrchid},
  commentstyle=\color{ForestGreen},
  stringstyle=\color{Red},
  backgroundcolor=\color{BackgroundGreen},
  mathescape=true
}

\lstset{style=ocaml}

\let\code\lstinline

\let\codeNoColor\texttt

\lstnewenvironment{ocaml}{\lstset{style=ocaml}}{}

\lstdefinelanguage{terminal}{}
\lstdefinestyle{terminal}{
  language=terminal,
  showstringspaces=false,
  basicstyle=\tt,
  tabsize=2,
  frame=single,
  backgroundcolor=\color{BackgroundGreen},
  mathescape=true,
  breaklines=true,
  prebreak=\mbox{{\color{blue}\tiny$\searrow$}},
  postbreak=\mbox{{\color{blue}\tiny$\rightarrow$}}
}

\lstnewenvironment{terminal}{\lstset{style=terminal}}{}

%% Common Type Variables
\newcommand\ta{'a}
\newcommand\tb{'b}
\newcommand\tc{'c}
\newcommand\td{'d}
\newcommand\te{'e}

%% TODO
% %% For Uncommon Type Variables
% \newcommand{talloc}[1]{'#1}

%%%%%%%%%%%%%%%%%%%%%%% For Typesetting Proof Trees %%%%%%%%%%%%%%%%%%%%%%%%%%

\newenvironment{logic}
   {\renewcommand{\and}{\ensuremath{\land}}
    \renewcommand{\or}{\ensuremath{\lor}}
    \renewcommand{\not}{\ensuremath{\lnot}}}
   {}
\newcommand{\implies}{\ensuremath{\mathrel{\Rightarrow}}}
\renewcommand{\iff}{\ensuremath{\mathrel{\Leftrightarrow}}}
\newcommand{\proves}{\ensuremath{\vdash}}

\newcommand{\Rule}[2]{\infer{#2}{#1}}
\newcommand{\RuleSide}[3]{\infer[#3]{#2}{#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%% For Typesetting Text %%%%%%%%%%%%%%%%%%%%%%%%%%%

\definecolor{BackgroundGreen}{HTML}{E6F0F0}
\definecolor{NoteBackground}{HTML}{FFFCE3}

\newcommand\link[2]{\href{#1}{{\color{blue}\underline{\smash{#2}}}}}

% MRC:  Redefining \emph is particularly evil.  The following definition
%  would not correctly handled nested \emph's, and it's not a good choice
%  of color for many color-blind individuals (like me).
%\renewcommand\emph[1]{{\bf\color{BlueViolet}#1}}

\newcommand\filename[1]{\texttt{#1}}

\newcommand\compactlist{
	\setlength{\itemsep}{1pt}
	\setlength{\parskip}{0pt}
	\setlength{\parsep}{0pt}
}

\newenvironment{note}[1]{
  \vspace{0.5em}
  \begin{addmargin}[4em]{4em}
    \begin{mdframed}[backgroundcolor=NoteBackground]
      \textbf{#1: }
}{
\end{mdframed}
\end{addmargin}
\vspace{0.5em}
}

%%
%% End of file '3110.sty'

